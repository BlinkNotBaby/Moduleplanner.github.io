$(document).ready(function(){var e=function(e){var a="div.module#"+e+" > div.provides";$(a).children().length&&$(a).children().each(function(){var e=$(this).attr("class");$("div.module#"+e).hasClass("selected")&&s(e)})},a=function(e){var a="div.module#"+e+" > ul.requires",s=!0;return $(a).children().length?($(a).children().each(function(){var a=$(this).attr("class");$("div.module#"+a).hasClass("selected")||(s=!1,$("div.module#"+e+" > .requires").slideDown("slow"))}),s):s},s=function(s){var i="div.module#"+s;$(i).hasClass("selected")?(e(s),$(i).removeClass("selected"),d(i,!1)):a(s)&&($(i).addClass("selected"),$(i+"> .requires").slideUp("slow"),d(i,!0))},i=function(e){for(var a in e){var s="div.year#"+a+" > h3 > span.credit",i=e[a];$(s).text(e[a]),i>120&&($(s).hasClass("ok")&&$(s).removeClass("ok"),$(s).hasClass("warn")||$(s).addClass("warn")),120>=i&&($(s).hasClass("warn")&&$(s).removeClass("warn"),$(s).hasClass("ok")||$(s).addClass("ok"))}},d=function(e,a){var s=$(e+" > div.group > aside > span.credit").text(),i=$(e).parents("div.year").attr("id");a?r[i]+=parseInt(s):r[i]-=parseInt(s)},r=[];$("div.year").each(function(){var e=0;$(this).children("div.core").children().each(function(){var a=$(this).find("div.group > aside > span.credit").text();e+=parseInt(a)}),r[$(this).attr("id")]=e}),i(r),$("div.optional > div.module").click(function(){var e=$(this).attr("id");s(e),i(r)}),$("div.wrapper > h2.clear").click(function(){$("div.optional > div.module").each(function(){$(this).hasClass("selected")&&s($(this).attr("id"))}),i(r)})});